<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ipTIME ê·œì¹™ ì¶”ê°€</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#f5f6f8;--card:#fff;--primary:#4a7c59;--pl:#e8f0eb;--pd:#3a6247;
  --danger:#d9534f;--text:#1a1a2e;--ts:#6b7280;--border:#e5e7eb;
  --sh:0 1px 3px rgba(0,0,0,.06);--sh-md:0 4px 12px rgba(0,0,0,.08);--sh-lg:0 12px 40px rgba(0,0,0,.15);
  --r:14px;--rs:8px;
}
body{font-family:'Noto Sans KR',-apple-system,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px}
.launcher{display:flex;gap:12px;flex-wrap:wrap}
.launch-btn{padding:14px 28px;border:1.5px solid var(--border);border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;font-family:inherit;transition:all .15s;display:flex;align-items:center;gap:8px;box-shadow:var(--sh-md);background:var(--card);color:var(--text)}
.launch-btn:hover{transform:translateY(-1px);box-shadow:var(--sh-lg);border-color:var(--primary);color:var(--primary)}
.launch-btn:active{transform:translateY(0)}
.launch-icon{font-size:18px}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(4px);z-index:100;display:none;align-items:center;justify-content:center;padding:20px}
.overlay.show{display:flex}
.modal{background:var(--card);border-radius:18px;box-shadow:var(--sh-lg);width:520px;max-width:95vw;max-height:90vh;overflow-y:auto;animation:up .25s ease}
@keyframes up{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:22px 28px 0;position:sticky;top:0;background:var(--card);z-index:2;border-radius:18px 18px 0 0}
.modal-header h2{font-size:18px;font-weight:700}
.modal-close{width:32px;height:32px;border:none;background:#f3f4f6;border-radius:8px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:all .15s}
.modal-close:hover{background:#e5e7eb}
.modal-body{padding:20px 28px 28px}
.tab-group{display:flex;gap:4px;background:#f3f4f6;border-radius:10px;padding:3px;margin-bottom:20px}
.tab-btn{flex:1;padding:8px 0;text-align:center;border:none;background:transparent;border-radius:8px;font-size:13px;font-weight:500;cursor:pointer;font-family:inherit;color:var(--ts);transition:all .15s}
.tab-btn.active{background:var(--card);color:var(--text);box-shadow:0 1px 3px rgba(0,0,0,.1);font-weight:600}
.form-section{margin-bottom:18px}
.form-section-title{font-size:12px;font-weight:700;color:var(--primary);margin-bottom:10px;text-transform:uppercase;letter-spacing:.5px}
.form-label{font-size:11px;color:var(--ts);font-weight:500;display:block;margin-bottom:4px}
.form-select{width:100%;padding:9px 12px;border:1.5px solid var(--border);border-radius:var(--rs);font-size:13px;font-family:inherit;outline:none;background:var(--card);cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5 5L9 1' stroke='%239CA3AF' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;transition:border .15s}
.form-select:focus{border-color:var(--primary)}
.form-input{width:100%;padding:9px 12px;border:1.5px solid var(--border);border-radius:var(--rs);font-size:13px;font-family:inherit;outline:none;background:var(--card);transition:border .15s}
.form-input:focus{border-color:var(--primary)}
.form-row{margin-bottom:12px}
.form-row-inline{display:flex;gap:10px;align-items:center;margin-bottom:12px}
.form-row-inline .form-input{flex:1}
.port-sep{color:var(--ts);font-size:14px}
.char-count{text-align:right;font-size:10px;color:var(--ts);margin-top:3px}
.divider{height:1px;background:var(--border);margin:20px 0}
.collapsible-header{display:flex;align-items:center;justify-content:space-between;cursor:pointer;user-select:none;padding:2px 0}
.collapsible-header .chv{font-size:10px;color:#b0b5bf;transition:transform .2s}
.collapsible-header .chv.open{transform:rotate(180deg)}
.collapsible-body{overflow:hidden;max-height:0;opacity:0;transition:max-height .3s ease,opacity .2s}
.collapsible-body.open{max-height:600px;opacity:1;margin-top:8px}
.sched-section{background:#f9fafb;border:1.5px solid var(--border);border-radius:12px;padding:16px;margin-top:4px}
.sched-section.disabled{opacity:.45;pointer-events:none}
.sched-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
.sched-mode{display:flex;gap:3px;background:#f3f4f6;border-radius:8px;padding:2px}
.sched-mode-btn{padding:5px 16px;border:none;background:transparent;border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;font-family:inherit;color:var(--ts);transition:all .15s}
.sched-mode-btn.active-allow{background:var(--primary);color:#fff;box-shadow:0 1px 3px rgba(0,0,0,.1)}
.sched-mode-btn.active-block{background:#f3e8e8;color:#b5524f;font-weight:600;box-shadow:0 1px 3px rgba(0,0,0,.06)}
.sched-mode-btn:hover:not(.active-allow):not(.active-block){background:#e5e7eb}
.repeat-tabs{display:flex;gap:2px;background:#f3f4f6;border-radius:8px;padding:3px}
.repeat-tab{padding:5px 14px;border:none;background:transparent;border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;font-family:inherit;color:var(--ts);transition:all .15s}
.repeat-tab.active{background:var(--card);color:var(--text);box-shadow:0 1px 2px rgba(0,0,0,.08);font-weight:600}
.day-presets{display:flex;gap:6px;margin-bottom:8px}
.day-preset-btn{padding:3px 10px;border:1.5px solid var(--border);border-radius:20px;background:transparent;font-size:10.5px;font-weight:500;cursor:pointer;font-family:inherit;color:var(--ts);transition:all .15s}
.day-preset-btn:hover{border-color:var(--primary);color:var(--primary);background:var(--pl)}
.day-preset-btn.active{border-color:var(--primary);background:var(--primary);color:#fff}
.day-selector{display:flex;gap:5px;margin-bottom:12px}
.day-btn{width:36px;height:36px;border-radius:50%;border:2px solid var(--border);background:transparent;font-size:12px;font-weight:600;cursor:pointer;font-family:inherit;color:var(--ts);transition:all .15s}
.day-btn.selected{border-color:var(--primary);background:var(--primary);color:#fff}
.day-btn:hover:not(.selected){border-color:var(--primary);color:var(--primary)}
.date-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:3px;margin-bottom:10px}
.date-cell{height:30px;border-radius:6px;border:1.5px solid var(--border);background:transparent;font-size:11px;font-weight:600;cursor:pointer;font-family:inherit;color:var(--ts);transition:all .15s;display:flex;align-items:center;justify-content:center}
.date-cell.selected{border-color:var(--primary);background:var(--primary);color:#fff}
.date-cell:hover:not(.selected){border-color:var(--primary);color:var(--primary)}
.date-cell.last-day{background:#f3f4f6;font-size:9px;grid-column:span 2}
.date-cell.last-day.selected{background:var(--primary)}
.date-presets{display:flex;gap:5px;margin-bottom:8px;flex-wrap:wrap}
.date-preset-btn{padding:3px 9px;border:1.5px solid var(--border);border-radius:20px;background:transparent;font-size:10.5px;font-weight:500;cursor:pointer;font-family:inherit;color:var(--ts);transition:all .15s}
.date-preset-btn:hover{border-color:var(--primary);color:var(--primary);background:var(--pl)}
.date-preset-btn.active{border-color:var(--primary);background:var(--primary);color:#fff}
.time-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.time-inputs{display:flex;align-items:center;gap:8px}
.time-input-wrap{flex:1}
.time-input-wrap label{font-size:10px;color:var(--ts);font-weight:500;display:block;margin-bottom:3px}
.time-input{width:100%;padding:8px 10px;border:1.5px solid var(--border);border-radius:var(--rs);font-size:13px;font-family:inherit;outline:none;transition:border .15s;background:var(--card)}
.time-input:focus{border-color:var(--primary)}
.time-sep{font-size:16px;color:#d1d5db;margin-top:14px}
.allday-msg{padding:8px 10px;background:#fff;border:1px solid var(--border);border-radius:8px;font-size:11px;color:var(--ts);text-align:center}
.allday-label{display:flex;align-items:center;gap:5px;cursor:pointer;font-size:11px;color:var(--ts);user-select:none}
.allday-label input{accent-color:var(--primary)}
.schedule-summary{margin-top:12px;padding:10px 12px;border-radius:10px;background:linear-gradient(135deg,#f0fdf4,#ecfdf5);border:1px solid rgba(74,124,89,.15);display:flex;align-items:flex-start;gap:8px;min-height:38px}
.schedule-summary.empty{background:#fff;border-color:var(--border)}
.schedule-summary-icon{font-size:14px;flex-shrink:0;line-height:1.4}
.schedule-summary-text{font-size:11.5px;font-weight:500;color:var(--text);line-height:1.5}
.schedule-summary.empty .schedule-summary-text{color:var(--ts)}
.summary-highlight{color:var(--primary);font-weight:700}
.reboot-toggle{position:relative;width:48px;height:26px;background:#d1d5db;border-radius:13px;border:none;cursor:pointer;transition:background .2s;padding:0}
.reboot-toggle.on{background:var(--primary)}
.reboot-toggle-knob{position:absolute;top:3px;left:3px;width:20px;height:20px;background:#fff;border-radius:50%;transition:transform .2s;box-shadow:0 1px 3px rgba(0,0,0,.15)}
.reboot-toggle.on .reboot-toggle-knob{transform:translateX(22px)}
.reboot-toggle-label{font-size:14px;font-weight:500;color:var(--ts)}
.reboot-toggle-label.on{color:var(--primary);font-weight:600}
.reboot-info{display:flex;align-items:center;gap:8px;margin-top:16px;padding:10px 14px;border-radius:8px;background:#f9fafb;border:1px solid var(--border);font-size:12px;color:var(--ts);font-weight:500}
.reboot-info.on{background:var(--pl);border-color:rgba(74,124,89,.15);color:var(--primary)}
.reboot-info-icon{font-size:14px;flex-shrink:0}
.modal-footer{display:flex;align-items:center;justify-content:flex-end;gap:10px;padding:16px 28px;border-top:1px solid var(--border);background:#fafbfc;border-radius:0 0 18px 18px;position:sticky;bottom:0}
.btn-cancel{padding:9px 22px;border:1.5px solid var(--border);border-radius:var(--rs);background:var(--card);font-size:13px;font-weight:500;cursor:pointer;font-family:inherit;color:var(--ts);transition:all .15s}
.btn-cancel:hover{background:#f3f4f6}
.btn-save{padding:9px 28px;border:none;border-radius:var(--rs);background:var(--primary);font-size:13px;font-weight:600;cursor:pointer;font-family:inherit;color:#fff;transition:all .15s}
.btn-save:hover{background:var(--pd)}
@media(max-width:500px){.launcher{flex-direction:column}.launch-btn{justify-content:center}}
</style>
</head>
<body>

<div class="launcher">
  <button class="launch-btn" onclick="openModal('inet')"><span class="launch-icon">ğŸ›¡ï¸</span>ì¸í„°ë„·/WiFi ì‚¬ìš© ì œí•œ</button>
  <button class="launch-btn" onclick="openModal('wifi')"><span class="launch-icon">ğŸ“¶</span>WiFi ì‚¬ìš© ì œí•œ</button>
  <button class="launch-btn" onclick="openModal('reboot')"><span class="launch-icon">ğŸ”„</span>ê³µìœ ê¸° ìë™ ì¬ì‹œì‘</button>
  <a class="launch-btn" href="https://yerinlim.github.io/routine/routine.html" target="_blank" style="text-decoration:none"><span class="launch-icon">âš™ï¸</span>ìŠ¤ì¼€ì¤„ëŸ¬ ì„¤ì • ë°”ë¡œê°€ê¸°</a>
</div>

<!-- â•â•â• ëª¨ë‹¬ 1: ì¸í„°ë„· ì‚¬ìš© ì œí•œ â•â•â• -->
<div class="overlay" id="overlayInet" onclick="if(event.target===this)closeModal()">
<div class="modal">
  <div class="modal-header"><h2>ê·œì¹™ ì¶”ê°€</h2><button class="modal-close" onclick="closeModal()">âœ•</button></div>
  <div class="modal-body">
    <div class="tab-group"><button class="tab-btn active">ì¸í„°ë„· ì‚¬ìš© ì œí•œ</button><button class="tab-btn">ì‚¬ì´íŠ¸ ì ‘ì† ì œí•œ</button></div>
    <div class="form-section">
      <div class="collapsible-header" onclick="toggleSection(this)"><span class="form-section-title" style="margin:0">ëª©ì ì§€ / IP ì„¤ì •</span><span class="chv">â–¼</span></div>
      <div class="collapsible-body">
        <div class="form-row" style="margin-top:4px"><label class="form-label">ëª©ì ì§€ ë°©í–¥</label><select class="form-select"><option>ë‚´ë¶€ â†’ ì™¸ë¶€</option><option>ì™¸ë¶€ â†’ ë‚´ë¶€</option></select></div>
        <div class="form-row"><label class="form-label">ëª©ì ì§€ í¬íŠ¸</label><select class="form-select"><option>ì™¸ë¶€ ëª©ì ì§€ ALL</option></select></div>
        <div class="form-row-inline"><input class="form-input" style="text-align:center"><span class="port-sep">~</span><input class="form-input" style="text-align:center"></div>
        <div class="form-row"><label class="form-label">ë‚´ë¶€ IP / MAC</label><select class="form-select"><option>ëª¨ë“  ë‚´ë¶€ IP</option></select></div>
        <div class="form-row"><input class="form-input"></div>
        <div class="form-row"><label class="form-label">ì™¸ë¶€ IPì£¼ì†Œ</label><select class="form-select"><option>ëª¨ë“  ì™¸ë¶€ IP</option></select></div>
        <div class="form-row"><input class="form-input"></div>
      </div>
    </div>
    <div class="divider"></div>
    <div class="form-section" style="margin-bottom:0">
      <div class="form-section-title">ìŠ¤ì¼€ì¤„</div>
      <div class="sched-section">
        <div class="sched-header">
          <div class="sched-mode">
            <button class="sched-mode-btn active-allow" onclick="setMode(this,'allow','inet')">í—ˆìš©</button>
            <button class="sched-mode-btn" onclick="setMode(this,'block','inet')">ì°¨ë‹¨</button>
          </div>
          <div class="repeat-tabs" style="margin:0">
            <button class="repeat-tab active" onclick="switchRepeat('weekly',this,'inet')">ë§¤ì£¼</button>
            <button class="repeat-tab" onclick="switchRepeat('monthly',this,'inet')">ë§¤ì›”</button>
          </div>
        </div>
        <div id="inet_weeklyPanel">
          <div class="day-presets" id="inet_dayPresets"><button class="day-preset-btn" onclick="applyPreset('weekdays',this,'inet')">í‰ì¼</button><button class="day-preset-btn" onclick="applyPreset('weekend',this,'inet')">ì£¼ë§</button><button class="day-preset-btn active" onclick="applyPreset('everyday',this,'inet')">ë§¤ì¼</button></div>
          <div class="day-selector" id="inet_daySelector"></div>
        </div>
        <div id="inet_monthlyPanel" style="display:none">
          <div class="date-presets" id="inet_datePresets"><button class="date-preset-btn" onclick="applyDatePreset('first',this,'inet')">ë§¤ì›” 1ì¼</button><button class="date-preset-btn" onclick="applyDatePreset('mid',this,'inet')">ë§¤ì›” 15ì¼</button><button class="date-preset-btn" onclick="applyDatePreset('firstlast',this,'inet')">1ì¼ &amp; ë§ì¼</button></div>
          <div class="date-grid" id="inet_dateGrid"></div>
        </div>
        <div class="time-header"><span class="form-label" style="margin:0">ì‹œê°„ ì„¤ì •</span><label class="allday-label"><input type="checkbox" id="inet_allDay" onchange="toggleAllDay('inet')" checked> 24ì‹œê°„</label></div>
        <div class="time-inputs" id="inet_timeWrap" style="display:none"><div class="time-input-wrap"><label>ì‹œì‘</label><input type="time" class="time-input" id="inet_timeStart" value="00:00" oninput="updateSummary('inet')"></div><div class="time-sep">~</div><div class="time-input-wrap"><label>ì¢…ë£Œ</label><input type="time" class="time-input" id="inet_timeEnd" value="23:59" oninput="updateSummary('inet')"></div></div>
        <div class="allday-msg" id="inet_allDayMsg">â° 24ì‹œê°„ ì „ì²´ì— ì ìš©ë©ë‹ˆë‹¤</div>
        <div class="schedule-summary" id="inet_summary"><span class="schedule-summary-icon">ğŸ”</span><span class="schedule-summary-text" id="inet_summaryText"></span></div>
      </div>
    </div>
  </div>
  <div class="modal-footer"><button class="btn-cancel" onclick="closeModal()">ì·¨ì†Œ</button><button class="btn-save">ì¶”ê°€</button></div>
</div>
</div>

<!-- â•â•â• ëª¨ë‹¬ 2: WiFi ì‚¬ìš© ì œí•œ â•â•â• -->
<div class="overlay" id="overlayWifi" onclick="if(event.target===this)closeModal()">
<div class="modal">
  <div class="modal-header"><h2>ê·œì¹™ ì¶”ê°€</h2><button class="modal-close" onclick="closeModal()">âœ•</button></div>
  <div class="modal-body">
    <div class="form-section"><div class="form-section-title">ê·œì¹™ ì´ë¦„</div><div class="form-row" style="margin-bottom:0"><input class="form-input" id="wifiRuleName" placeholder="ê·œì¹™ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." maxlength="63" oninput="document.getElementById('wifiCharCount').textContent=this.value.length"><div class="char-count"><span id="wifiCharCount">0</span>/63</div></div></div>
    <div class="form-section"><div class="form-section-title">ì°¨ë‹¨í•  WiFi</div><div class="form-row" style="margin-bottom:0"><select class="form-select" id="wifiBand" onchange="updateSummary('wifi')"><option value="all">WiFi All</option><option value="2.4g">2.4GHz</option><option value="5g">5GHz</option><option value="6g">6GHz</option></select></div></div>
    <div class="divider"></div>
    <div class="form-section" style="margin-bottom:0">
      <div class="form-section-title">ìŠ¤ì¼€ì¤„</div>
      <div class="sched-section">
        <div class="sched-header" style="justify-content:flex-end">
          <div class="repeat-tabs" style="margin:0">
            <button class="repeat-tab active" onclick="switchRepeat('weekly',this,'wifi')">ë§¤ì£¼</button>
            <button class="repeat-tab" onclick="switchRepeat('monthly',this,'wifi')">ë§¤ì›”</button>
          </div>
        </div>
        <div id="wifi_weeklyPanel">
          <div class="day-presets" id="wifi_dayPresets"><button class="day-preset-btn" onclick="applyPreset('weekdays',this,'wifi')">í‰ì¼</button><button class="day-preset-btn" onclick="applyPreset('weekend',this,'wifi')">ì£¼ë§</button><button class="day-preset-btn active" onclick="applyPreset('everyday',this,'wifi')">ë§¤ì¼</button></div>
          <div class="day-selector" id="wifi_daySelector"></div>
        </div>
        <div id="wifi_monthlyPanel" style="display:none">
          <div class="date-presets" id="wifi_datePresets"><button class="date-preset-btn" onclick="applyDatePreset('first',this,'wifi')">ë§¤ì›” 1ì¼</button><button class="date-preset-btn" onclick="applyDatePreset('mid',this,'wifi')">ë§¤ì›” 15ì¼</button><button class="date-preset-btn" onclick="applyDatePreset('firstlast',this,'wifi')">1ì¼ &amp; ë§ì¼</button></div>
          <div class="date-grid" id="wifi_dateGrid"></div>
        </div>
        <div class="time-header"><span class="form-label" style="margin:0">ì‹œê°„ ì„¤ì •</span><label class="allday-label"><input type="checkbox" id="wifi_allDay" onchange="toggleAllDay('wifi')" checked> 24ì‹œê°„</label></div>
        <div class="time-inputs" id="wifi_timeWrap" style="display:none"><div class="time-input-wrap"><label>ì‹œì‘</label><input type="time" class="time-input" id="wifi_timeStart" value="00:00" oninput="updateSummary('wifi')"></div><div class="time-sep">~</div><div class="time-input-wrap"><label>ì¢…ë£Œ</label><input type="time" class="time-input" id="wifi_timeEnd" value="23:59" oninput="updateSummary('wifi')"></div></div>
        <div class="allday-msg" id="wifi_allDayMsg">â° 24ì‹œê°„ ì „ì²´ì— ì ìš©ë©ë‹ˆë‹¤</div>
        <div class="schedule-summary" id="wifi_summary"><span class="schedule-summary-icon">ğŸ”</span><span class="schedule-summary-text" id="wifi_summaryText"></span></div>
      </div>
    </div>
  </div>
  <div class="modal-footer"><button class="btn-cancel" onclick="closeModal()">ì·¨ì†Œ</button><button class="btn-save">ì¶”ê°€</button></div>
</div>
</div>

<!-- â•â•â• ëª¨ë‹¬ 3: ê³µìœ ê¸° ìë™ ì¬ì‹œì‘ â•â•â• -->
<div class="overlay" id="overlayReboot" onclick="if(event.target===this)closeModal()">
<div class="modal">
  <div class="modal-header"><h2>ê³µìœ ê¸° ìë™ ì¬ì‹œì‘</h2><button class="modal-close" onclick="closeModal()">âœ•</button></div>
  <div class="modal-body">
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px">
      <button class="reboot-toggle" id="rebootToggle" onclick="toggleReboot()"><span class="reboot-toggle-knob"></span></button>
      <span class="reboot-toggle-label" id="rebootLabel">êº¼ì§</span>
    </div>
    <div class="sched-section disabled" id="rebootSchedSection">
      <div class="sched-header" style="justify-content:flex-end">
        <div class="repeat-tabs" style="margin:0">
          <button class="repeat-tab active" onclick="switchRepeat('weekly',this,'reboot')">ë§¤ì£¼</button>
          <button class="repeat-tab" onclick="switchRepeat('monthly',this,'reboot')">ë§¤ì›”</button>
        </div>
      </div>
      <div id="reboot_weeklyPanel">
        <div class="day-presets" id="reboot_dayPresets"><button class="day-preset-btn" onclick="applyPreset('weekdays',this,'reboot')">í‰ì¼</button><button class="day-preset-btn" onclick="applyPreset('weekend',this,'reboot')">ì£¼ë§</button><button class="day-preset-btn" onclick="applyPreset('everyday',this,'reboot')">ë§¤ì¼</button></div>
        <div class="day-selector" id="reboot_daySelector"></div>
      </div>
      <div id="reboot_monthlyPanel" style="display:none">
        <div class="date-presets" id="reboot_datePresets"><button class="date-preset-btn" onclick="applyDatePreset('first',this,'reboot')">ë§¤ì›” 1ì¼</button><button class="date-preset-btn" onclick="applyDatePreset('mid',this,'reboot')">ë§¤ì›” 15ì¼</button><button class="date-preset-btn" onclick="applyDatePreset('firstlast',this,'reboot')">1ì¼ &amp; ë§ì¼</button></div>
        <div class="date-grid" id="reboot_dateGrid"></div>
      </div>
      <div style="margin-bottom:6px"><span class="form-label" style="margin:0">ì¬ì‹œì‘ ì‹œê°</span></div>
      <div class="time-inputs"><div class="time-input-wrap"><input type="time" class="time-input" id="reboot_time" value="04:00" oninput="updateSummary('reboot')"></div><div style="flex:1"></div></div>
      <div class="schedule-summary empty" id="reboot_summary"><span class="schedule-summary-icon">ğŸ“…</span><span class="schedule-summary-text" id="reboot_summaryText">ìš”ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”</span></div>
    </div>
    <div class="reboot-info" id="rebootInfo"><span class="reboot-info-icon">â„¹ï¸</span><span>í•´ë‹¹ ê¸°ëŠ¥ êº¼ì ¸ ìˆìŒ</span></div>
  </div>
  <div class="modal-footer"><button class="btn-cancel" onclick="closeModal()">ì·¨ì†Œ</button><button class="btn-save">ì ìš©</button></div>
</div>
</div>

<script>
var DL=['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '];
var PR={weekdays:[1,2,3,4,5],weekend:[0,6],everyday:[0,1,2,3,4,5,6]};
var ST={inet:{repeat:'weekly',mode:'allow'},wifi:{repeat:'weekly'},reboot:{repeat:'weekly'}};
var bandLabels={'all':'ì „ì²´ WiFi','2.4g':'2.4GHz','5g':'5GHz','6g':'6GHz'};
var rebootOn=false;

// â”€â”€ Init all 3 contexts â”€â”€
['inet','wifi','reboot'].forEach(function(ctx){
  // Day buttons
  var ds=document.getElementById(ctx+'_daySelector');
  if(ds){
    var initSel=(ctx!=='reboot');
    DL.forEach(function(d,i){
      var b=document.createElement('button');
      b.className='day-btn'+(initSel?' selected':'');
      b.textContent=d;
      b.onclick=function(){this.classList.toggle('selected');syncPreset(ctx);updateSummary(ctx)};
      ds.appendChild(b);
    });
  }
  // Date grid
  var g=document.getElementById(ctx+'_dateGrid');
  if(g){
    for(var n=1;n<=31;n++){
      (function(num){
        var c=document.createElement('button');
        c.className='date-cell';
        c.textContent=num;
        c.dataset.date=String(num);
        c.onclick=function(){this.classList.toggle('selected');syncDatePreset(ctx);updateSummary(ctx)};
        g.appendChild(c);
      })(n);
    }
    var last=document.createElement('button');
    last.className='date-cell last-day';
    last.textContent='ë§ì¼';
    last.dataset.date='last';
    last.onclick=function(){this.classList.toggle('selected');syncDatePreset(ctx);updateSummary(ctx)};
    g.appendChild(last);
  }
  updateSummary(ctx);
});

// â”€â”€ Modal â”€â”€
function openModal(type){
  closeModal();
  var m=type==='inet'?'overlayInet':type==='wifi'?'overlayWifi':'overlayReboot';
  document.getElementById(m).classList.add('show');
  document.body.style.overflow='hidden';
}
function closeModal(){
  document.querySelectorAll('.overlay').forEach(function(o){o.classList.remove('show')});
  document.body.style.overflow='';
}

// â”€â”€ Collapsible â”€â”€
function toggleSection(h){h.nextElementSibling.classList.toggle('open');h.querySelector('.chv').classList.toggle('open')}

// â”€â”€ Mode (inet) â”€â”€
function setMode(btn,mode,ctx){
  ST[ctx].mode=mode;
  btn.parentElement.querySelectorAll('.sched-mode-btn').forEach(function(b){b.classList.remove('active-allow','active-block')});
  btn.classList.add(mode==='allow'?'active-allow':'active-block');
  updateSummary(ctx);
}

// â”€â”€ Repeat â”€â”€
function switchRepeat(mode,btn,ctx){
  ST[ctx].repeat=mode;
  btn.parentElement.querySelectorAll('.repeat-tab').forEach(function(b){b.classList.remove('active')});
  btn.classList.add('active');
  document.getElementById(ctx+'_weeklyPanel').style.display=mode==='weekly'?'':'none';
  document.getElementById(ctx+'_monthlyPanel').style.display=mode==='monthly'?'':'none';
  updateSummary(ctx);
}

// â”€â”€ Day presets â”€â”€
function applyPreset(key,btn,ctx){
  var btns=document.querySelectorAll('#'+ctx+'_dayPresets .day-preset-btn');
  var was=btn.classList.contains('active');
  btns.forEach(function(b){b.classList.remove('active')});
  var dayBtns=document.querySelectorAll('#'+ctx+'_daySelector .day-btn');
  if(was){dayBtns.forEach(function(b){b.classList.remove('selected')})}
  else{btn.classList.add('active');var s=PR[key];dayBtns.forEach(function(b,i){b.classList.toggle('selected',s.includes(i))})}
  updateSummary(ctx);
}
function syncPreset(ctx){
  var sel=[];
  document.querySelectorAll('#'+ctx+'_daySelector .day-btn').forEach(function(b,i){if(b.classList.contains('selected'))sel.push(i)});
  var btns=document.querySelectorAll('#'+ctx+'_dayPresets .day-preset-btn');
  btns.forEach(function(b){b.classList.remove('active')});
  var s=sel.slice().sort().join(',');
  if(s===PR.weekdays.slice().sort().join(','))btns[0].classList.add('active');
  else if(s===PR.weekend.slice().sort().join(','))btns[1].classList.add('active');
  else if(s===PR.everyday.slice().sort().join(','))btns[2].classList.add('active');
}

// â”€â”€ Date presets â”€â”€
function getSelDates(ctx){var r=[];document.querySelectorAll('#'+ctx+'_dateGrid .date-cell.selected').forEach(function(c){r.push(c.dataset.date)});return r}
function setSelDates(ctx,arr){document.querySelectorAll('#'+ctx+'_dateGrid .date-cell').forEach(function(c){c.classList.toggle('selected',arr.indexOf(c.dataset.date)>=0)})}
function applyDatePreset(key,btn,ctx){
  var btns=document.querySelectorAll('#'+ctx+'_datePresets .date-preset-btn');
  var was=btn.classList.contains('active');
  btns.forEach(function(b){b.classList.remove('active')});
  document.querySelectorAll('#'+ctx+'_dateGrid .date-cell').forEach(function(c){c.classList.remove('selected')});
  if(!was){btn.classList.add('active');if(key==='first')setSelDates(ctx,['1']);else if(key==='mid')setSelDates(ctx,['15']);else if(key==='firstlast')setSelDates(ctx,['1','last'])}
  updateSummary(ctx);
}
function syncDatePreset(ctx){
  var sel=getSelDates(ctx);
  var btns=document.querySelectorAll('#'+ctx+'_datePresets .date-preset-btn');
  btns.forEach(function(b){b.classList.remove('active')});
  var s=sel.sort().join(',');
  if(s==='1')btns[0].classList.add('active');else if(s==='15')btns[1].classList.add('active');else if(s==='1,last')btns[2].classList.add('active');
}

// â”€â”€ All day â”€â”€
function toggleAllDay(ctx){
  var on=document.getElementById(ctx+'_allDay').checked;
  document.getElementById(ctx+'_timeWrap').style.display=on?'none':'flex';
  document.getElementById(ctx+'_allDayMsg').style.display=on?'':'none';
  if(on){document.getElementById(ctx+'_timeStart').value='00:00';document.getElementById(ctx+'_timeEnd').value='23:59'}
  updateSummary(ctx);
}

// â”€â”€ Reboot toggle â”€â”€
function toggleReboot(){
  rebootOn=!rebootOn;
  document.getElementById('rebootToggle').classList.toggle('on',rebootOn);
  document.getElementById('rebootLabel').textContent=rebootOn?'ì¼œì§':'êº¼ì§';
  document.getElementById('rebootLabel').classList.toggle('on',rebootOn);
  document.getElementById('rebootSchedSection').classList.toggle('disabled',!rebootOn);
  var info=document.getElementById('rebootInfo');
  info.classList.toggle('on',rebootOn);
  info.querySelector('span:last-child').textContent=rebootOn?'ì„¤ì •í•œ ì‹œê°„ì— ìë™ìœ¼ë¡œ ì¬ì‹œì‘ë©ë‹ˆë‹¤':'í•´ë‹¹ ê¸°ëŠ¥ êº¼ì ¸ ìˆìŒ';
}

// â”€â”€ Summary â”€â”€
function updateSummary(ctx){
  var wrap=document.getElementById(ctx+'_summary');
  var txt=document.getElementById(ctx+'_summaryText');
  var icon=wrap.querySelector('.schedule-summary-icon');
  if(!wrap||!txt)return;

  // Time
  var timeStr='';
  if(ctx==='reboot'){
    var rt=document.getElementById('reboot_time').value;
    timeStr=rt?rt+' ìë™ ì¬ì‹œì‘':'';
  }else{
    var allDay=document.getElementById(ctx+'_allDay').checked;
    var ts=document.getElementById(ctx+'_timeStart').value;
    var te=document.getElementById(ctx+'_timeEnd').value;
    timeStr=allDay?'ì¢…ì¼':(ts&&te?ts+' ~ '+te:'');
  }

  // Suffix
  var suffix='';
  if(ctx==='inet'){
    var m=ST.inet.mode;
    suffix=' <span style="color:'+(m==='allow'?'var(--primary)':'#b5524f')+';font-weight:600">'+(m==='allow'?'í—ˆìš©':'ì°¨ë‹¨')+'</span>';
  }else if(ctx==='wifi'){
    suffix=' Â· '+(bandLabels[document.getElementById('wifiBand').value]||'ì „ì²´ WiFi')+' ì°¨ë‹¨';
  }

  if(ST[ctx].repeat==='weekly'){
    var sel=[];
    document.querySelectorAll('#'+ctx+'_daySelector .day-btn').forEach(function(b,i){if(b.classList.contains('selected'))sel.push(i)});
    if(!sel.length){wrap.classList.add('empty');icon.textContent='ğŸ“…';txt.innerHTML='ìš”ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”';return}
    wrap.classList.remove('empty');icon.textContent='ğŸ”';
    var s=sel.slice().sort().join(','),ds='';
    if(s===PR.everyday.slice().sort().join(','))ds='ë§¤ì¼';
    else if(s===PR.weekdays.slice().sort().join(','))ds='í‰ì¼(ì›”~ê¸ˆ)';
    else if(s===PR.weekend.slice().sort().join(','))ds='ì£¼ë§(í† Â·ì¼)';
    else ds='ë§¤ì£¼ '+sel.map(function(i){return DL[i]}).join('Â·');
    txt.innerHTML='<span class="summary-highlight">'+ds+'</span> '+timeStr+suffix;
  }else{
    var dates=getSelDates(ctx);
    if(!dates.length){wrap.classList.add('empty');icon.textContent='ğŸ“…';txt.innerHTML='ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”';return}
    wrap.classList.remove('empty');icon.textContent='ğŸ“†';
    var dStr=dates.map(function(d){return d==='last'?'ë§ì¼':d+'ì¼'}).join(', ');
    txt.innerHTML='<span class="summary-highlight">ë§¤ì›” '+dStr+'</span> '+timeStr+suffix;
  }
}
</script>
</body>
</html>
